{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import api from'../api/client';import RecipeCard from'../components/RecipeCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user,isAuthenticated,logout}=useAuth();const navigate=useNavigate();const[favoriteRecipes,setFavoriteRecipes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(!isAuthenticated){navigate('/login');return;}fetchFavoriteRecipes();},[isAuthenticated,navigate]);const fetchFavoriteRecipes=async()=>{if(!user)return;try{setLoading(true);const data=await api.getFavorites(user.id);setFavoriteRecipes(data);}catch(err){console.error('즐겨찾기 조회 에러:',err);setError('즐겨찾기 목록을 불러오는데 실패했습니다.');}finally{setLoading(false);}};const handleLogout=()=>{logout();navigate('/login');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:\"\\uB85C\\uB529 \\uC911...\"})});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-red-600\",children:\"\\uC0AC\\uC6A9\\uC790 \\uC815\\uBCF4\\uB97C \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:user.email})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-700 mb-1\",children:\"\\uC990\\uACA8\\uCC3E\\uAE30\\uD55C \\uB808\\uC2DC\\uD53C\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[favoriteRecipes.length,\"\\uAC1C\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-700 mb-1\",children:\"\\uCD5C\\uADFC \\uD65C\\uB3D9\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\uCD5C\\uADFC \\uB85C\\uADF8\\uC778: \",new Date().toLocaleDateString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-6\",children:\"\\uC990\\uACA8\\uCC3E\\uAE30\\uD55C \\uB808\\uC2DC\\uD53C\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\",children:error}),favoriteRecipes.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"\\uC544\\uC9C1 \\uC990\\uACA8\\uCC3E\\uAE30\\uD55C \\uB808\\uC2DC\\uD53C\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:favoriteRecipes.map(recipe=>/*#__PURE__*/_jsx(RecipeCard,{recipe:recipe},recipe.id))})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","api","RecipeCard","jsx","_jsx","jsxs","_jsxs","Profile","user","isAuthenticated","logout","navigate","favoriteRecipes","setFavoriteRecipes","loading","setLoading","error","setError","fetchFavoriteRecipes","data","getFavorites","id","err","console","handleLogout","className","children","name","email","onClick","length","Date","toLocaleDateString","map","recipe"],"sources":["/Users/daeyeop/Desktop/I-eung/frontend/src/pages/Profile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../api/client';\nimport { Recipe } from '../types';\nimport RecipeCard from '../components/RecipeCard';\n\nconst Profile: React.FC = () => {\n  const { user, isAuthenticated, logout } = useAuth();\n  const navigate = useNavigate();\n  const [favoriteRecipes, setFavoriteRecipes] = useState<Recipe[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n\n    fetchFavoriteRecipes();\n  }, [isAuthenticated, navigate]);\n\n  const fetchFavoriteRecipes = async () => {\n    if (!user) return;\n\n    try {\n      setLoading(true);\n      const data = await api.getFavorites(user.id);\n      setFavoriteRecipes(data);\n    } catch (err) {\n      console.error('즐겨찾기 조회 에러:', err);\n      setError('즐겨찾기 목록을 불러오는데 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        <div className=\"text-xl\">로딩 중...</div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        <div className=\"text-xl text-red-600\">사용자 정보를 찾을 수 없습니다.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 py-8\">\n      {/* 프로필 정보 */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n        <div className=\"flex justify-between items-start mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">{user.name}</h1>\n            <p className=\"text-gray-600\">{user.email}</p>\n          </div>\n          <button\n            onClick={handleLogout}\n            className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n          >\n            로그아웃\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"bg-gray-50 p-4 rounded\">\n            <h3 className=\"font-medium text-gray-700 mb-1\">즐겨찾기한 레시피</h3>\n            <p className=\"text-2xl font-bold text-blue-600\">\n              {favoriteRecipes.length}개\n            </p>\n          </div>\n          <div className=\"bg-gray-50 p-4 rounded\">\n            <h3 className=\"font-medium text-gray-700 mb-1\">최근 활동</h3>\n            <p className=\"text-sm text-gray-600\">\n              최근 로그인: {new Date().toLocaleDateString()}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* 즐겨찾기 목록 */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-bold mb-6\">즐겨찾기한 레시피</h2>\n\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n            {error}\n          </div>\n        )}\n\n        {favoriteRecipes.length === 0 ? (\n          <p className=\"text-gray-500 text-center py-8\">\n            아직 즐겨찾기한 레시피가 없습니다.\n          </p>\n        ) : (\n          <div className=\"space-y-6\">\n            {favoriteRecipes.map((recipe) => (\n              <RecipeCard\n                key={recipe.id}\n                recipe={recipe}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}